usethis::use_data_raw()
usethis::use_data(homicides, overwrite = TRUE)
# Transform data base
homicides <- read.csv("data-raw/Homicidios.csv", sep = ";", dec = ",")
homicides$Rate <- homicides$Murder / homicides$Population * 100000
homicides <- homicides[14:72,]
fires <- read.csv(file = "data-raw/Incendios.csv", sep = ",", dec = ".", na.strings="", header = TRUE,
colClasses = c("integer","character","character","character","character"))
fires <- na.omit(fires)
fires$Date <- as.character(fires$Date)
fires$Month <- substr(x = fires$Date, start = 4, stop = 5)
fires$Year_Month <- paste0(fires$Year,"-",fires$Month)
wildfires_new <- data.frame(Year = c(2007L, 2008L, 2008L, 2010L, 2010L),
Date = c(NA, NA, NA, NA, NA),
Code = c(NA, NA, NA, NA, NA),
Municipality = c(NA, NA, NA, NA, NA),
Total.Area = c(0, 0, 0, 0, 0),
Month = c("08", "06", "11", "10", "12"),
Year_Month = c("2007-08","2008-06","2008-11","2010-10","2010-12"))
fires <- rbind(fires, wildfires_new)
fires <- fires[with(fires, order(Year, Month)), ]
fires$GIF <- ifelse(fires$Total.Area > 500, 1, 0)
wildfires <-aggregate(GIF ~ Year_Month, data = fires, sum)
colnames(wildfires) <- c("Date","GIF")
wildfires$GIF <- as.integer(wildfires$GIF)
usethis::use_data(homicides, overwrite = TRUE)
usethis::use_data(wildfires, overwrite = TRUE)
roxygen2::roxygenize()
roxygen2::roxygenize()
use_gpl3_license()
use_gpl_license()
roxygen2::roxygenize()
roxygen2::roxygenize()
set.seed(2019)
o <- c(rpois(n = 100, lambda = 15),rpois(n = 50, lambda = 25))
mod_2states <- pois.HMM.mle(o = o, m = 2, lambda0 = c(20 ,25),
A0 = matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE),
pi0 = c(0.5,0.5), stationary = TRUE)
forecasts <- pois.HMM.forecast(of = 0:50, h = 1, o, mod_2states)
par(mfrow = c(1, 1), las = 1)
plot(0:50, fc, type = "h", main = paste("forecast distribution for", length(o) + 1),
xlim = c(0, max(0:50)), ylim = c(0, 0.12), xlab = "count", ylab = "probability", lwd = 3)
forecasts
plot(0:50, forecasts, type = "h", main = paste("forecast distribution for", length(o) + 1),
xlim = c(0, max(0:50)), ylim = c(0, 0.12), xlab = "count", ylab = "probability", lwd = 3)
o <- c(rpois(n = 100, lambda = 15),rpois(n = 50, lambda = 25))
pois.HMM.mllk(parvect = parvect_work, o = datos, m = 2, stationary = TRUE)
pois.HMM.mllk(parvect = parvect_work, o = o, m = 2, stationary = TRUE)
m0 = 2
lambda0 = c(15, 25)
A0 = matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE)
pi0 = c(0.5,0.5)
parvect_work <- pois.HMM.pn2pw(m = m0, lambda = lambda0, A = A0, pi = pi0, stationary = T)
print(parvect_work)
parvect_work <- pois.HMM.pn2pw(m = m0, lambda = lambda0, A = A0, pi = pi0, stationary = T)
o <- c(rpois(n = 100, lambda = 15),rpois(n = 50, lambda = 25))
pois.HMM.mllk(parvect = parvect_work, o = o, m = 2, stationary = TRUE)
roxygen2::roxygenize()
source("R/BayesHMM_F.R")
m0 = 2
lambda0 = c(15, 25)
A0 = matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE)
pi0 = c(0.5,0.5)
parvect_work <- pois.HMM.pn2pw(m = m0, lambda = lambda0, A = A0, pi = pi0, stationary = T)
parvect_work
o <- c(rpois(n = 100, lambda = 15),rpois(n = 50, lambda = 25))
pois.HMM.mllk(parvect = parvect_work, o = o, m = 2, stationary = TRUE)
roxygen2::roxygenize()
roxygen2::roxygenize()
matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE),
+                             pi0 = c(0.5,0.5)
matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE),pi0 = c(0.5,0.5)
matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE),pi0 = c(0.5,0.5))
matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2, byrow = TRUE)
matrix(c(0.9, 0.1, 0.1, 0.9), 2, 2)
roxygen2::roxygenize()
